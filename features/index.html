



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.2">
    
    
      
        <title>Just-API Features - Just-API</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#just-api-features" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Just-API" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Just-API
              </span>
              <span class="md-header-nav__topic">
                Just-API Features
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/kiranz/just-api/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Just-API
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Just-API
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/kiranz/just-api/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Just-API
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../basic-concepts/" title="Basic Concepts" class="md-nav__link">
      Basic Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../CLI/" title="CLI Reference" class="md-nav__link">
      CLI Reference
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Just-API Features
      </label>
    
    <a href="./" title="Just-API Features" class="md-nav__link md-nav__link--active">
      Just-API Features
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#request-specification" title="Request Specification" class="md-nav__link">
    Request Specification
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-methods" title="Request Methods" class="md-nav__link">
    Request Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specifying-headers-query-params-path-params" title="Specifying Headers, Query params, Path params" class="md-nav__link">
    Specifying Headers, Query params, Path params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-body-specification" title="Request Body Specification" class="md-nav__link">
    Request Body Specification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#form-multipart-requests-file-uploads" title="Form, multipart requests, file uploads" class="md-nav__link">
    Form, multipart requests, file uploads
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specify-x-www-form-urlencoded-request" title="specify x-www-form-urlencoded request" class="md-nav__link">
    specify x-www-form-urlencoded request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specify-multipartform-data-request" title="specify multipart/form-data request" class="md-nav__link">
    specify multipart/form-data request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-validation" title="Response Validation" class="md-nav__link">
    Response Validation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#status-code-validation" title="Status code validation" class="md-nav__link">
    Status code validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#headers-validation" title="Headers validation" class="md-nav__link">
    Headers validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-json-schema-validation" title="Response JSON schema validation" class="md-nav__link">
    Response JSON schema validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-json-body-validation" title="Response JSON body validation" class="md-nav__link">
    Response JSON body validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-defined-custom-response-validator-functions" title="User defined custom response validator functions" class="md-nav__link">
    User defined custom response validator functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-javascript-functions" title="Custom Javascript functions" class="md-nav__link">
    Custom Javascript functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cutom-inline-and-module-functions" title="cutom inline and module functions" class="md-nav__link">
    cutom inline and module functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-inline-function" title="custom inline function" class="md-nav__link">
    custom inline function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-module-function" title="custom module function" class="md-nav__link">
    custom module function
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#async-support-for-custom-functions-with-promises" title="Async support for custom functions with promises" class="md-nav__link">
    Async support for custom functions with promises
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#suite-configuration" title="Suite configuration" class="md-nav__link">
    Suite configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" title="Hooks" class="md-nav__link">
    Hooks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-request-construction" title="Dynamic request construction" class="md-nav__link">
    Dynamic request construction
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#headers" title="Headers" class="md-nav__link">
    Headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-params" title="Query params" class="md-nav__link">
    Query params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-params" title="Path params" class="md-nav__link">
    Path params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#body" title="Body" class="md-nav__link">
    Body
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-context" title="Custom context" class="md-nav__link">
    Custom context
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#storing-suite-test-data-in-context-for-reuse" title="Storing suite &amp; test data in context for reuse" class="md-nav__link">
    Storing suite &amp; test data in context for reuse
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spec-dependencies" title="Spec dependencies" class="md-nav__link">
    Spec dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-dependencies" title="Running dependencies" class="md-nav__link">
    Running dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intrasuite-spec-dependencies" title="Intrasuite spec dependencies" class="md-nav__link">
    Intrasuite spec dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersuite-spec-dependencies" title="Intersuite spec dependencies" class="md-nav__link">
    Intersuite spec dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skipping" title="Skipping" class="md-nav__link">
    Skipping
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skipping-a-suite" title="Skipping a suite" class="md-nav__link">
    Skipping a suite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skipping-a-test" title="Skipping a test" class="md-nav__link">
    Skipping a test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reusing-test-specification" title="reusing test specification" class="md-nav__link">
    reusing test specification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retrying-failed-tests" title="Retrying failed tests" class="md-nav__link">
    Retrying failed tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#looping" title="Looping" class="md-nav__link">
    Looping
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-features" title="Additional features" class="md-nav__link">
    Additional features
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reports-test-duration" title="reports test duration" class="md-nav__link">
    reports test duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-only-tests-match-with-a-given-patterntext" title="running only tests match with a given pattern/text" class="md-nav__link">
    running only tests match with a given pattern/text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-request-options" title="additional request options" class="md-nav__link">
    additional request options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finding-suites-recursively" title="Finding suites recursively" class="md-nav__link">
    Finding suites recursively
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proper-error-reporting" title="Proper error reporting" class="md-nav__link">
    Proper error reporting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exit-code-for-ci-support" title="Exit code for CI support" class="md-nav__link">
    Exit code for CI support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-http-requestresponse-data-for-failed-tests" title="Logging HTTP request/response data for failed tests" class="md-nav__link">
    Logging HTTP request/response data for failed tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-callbacks" title="No callbacks" class="md-nav__link">
    No callbacks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-suites-in-parallel" title="Running suites in parallel" class="md-nav__link">
    Running suites in parallel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reporters" title="Reporters" class="md-nav__link">
    Reporters
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../running-suites-in-parallel/" title="Running suites in parallel" class="md-nav__link">
      Running suites in parallel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reporters/" title="Reporters" class="md-nav__link">
      Reporters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#request-specification" title="Request Specification" class="md-nav__link">
    Request Specification
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-methods" title="Request Methods" class="md-nav__link">
    Request Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specifying-headers-query-params-path-params" title="Specifying Headers, Query params, Path params" class="md-nav__link">
    Specifying Headers, Query params, Path params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-body-specification" title="Request Body Specification" class="md-nav__link">
    Request Body Specification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#form-multipart-requests-file-uploads" title="Form, multipart requests, file uploads" class="md-nav__link">
    Form, multipart requests, file uploads
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specify-x-www-form-urlencoded-request" title="specify x-www-form-urlencoded request" class="md-nav__link">
    specify x-www-form-urlencoded request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specify-multipartform-data-request" title="specify multipart/form-data request" class="md-nav__link">
    specify multipart/form-data request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-validation" title="Response Validation" class="md-nav__link">
    Response Validation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#status-code-validation" title="Status code validation" class="md-nav__link">
    Status code validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#headers-validation" title="Headers validation" class="md-nav__link">
    Headers validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-json-schema-validation" title="Response JSON schema validation" class="md-nav__link">
    Response JSON schema validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-json-body-validation" title="Response JSON body validation" class="md-nav__link">
    Response JSON body validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-defined-custom-response-validator-functions" title="User defined custom response validator functions" class="md-nav__link">
    User defined custom response validator functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-javascript-functions" title="Custom Javascript functions" class="md-nav__link">
    Custom Javascript functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cutom-inline-and-module-functions" title="cutom inline and module functions" class="md-nav__link">
    cutom inline and module functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-inline-function" title="custom inline function" class="md-nav__link">
    custom inline function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-module-function" title="custom module function" class="md-nav__link">
    custom module function
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#async-support-for-custom-functions-with-promises" title="Async support for custom functions with promises" class="md-nav__link">
    Async support for custom functions with promises
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#suite-configuration" title="Suite configuration" class="md-nav__link">
    Suite configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" title="Hooks" class="md-nav__link">
    Hooks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-request-construction" title="Dynamic request construction" class="md-nav__link">
    Dynamic request construction
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#headers" title="Headers" class="md-nav__link">
    Headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-params" title="Query params" class="md-nav__link">
    Query params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-params" title="Path params" class="md-nav__link">
    Path params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#body" title="Body" class="md-nav__link">
    Body
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-context" title="Custom context" class="md-nav__link">
    Custom context
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#storing-suite-test-data-in-context-for-reuse" title="Storing suite &amp; test data in context for reuse" class="md-nav__link">
    Storing suite &amp; test data in context for reuse
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spec-dependencies" title="Spec dependencies" class="md-nav__link">
    Spec dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-dependencies" title="Running dependencies" class="md-nav__link">
    Running dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intrasuite-spec-dependencies" title="Intrasuite spec dependencies" class="md-nav__link">
    Intrasuite spec dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersuite-spec-dependencies" title="Intersuite spec dependencies" class="md-nav__link">
    Intersuite spec dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skipping" title="Skipping" class="md-nav__link">
    Skipping
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skipping-a-suite" title="Skipping a suite" class="md-nav__link">
    Skipping a suite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skipping-a-test" title="Skipping a test" class="md-nav__link">
    Skipping a test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reusing-test-specification" title="reusing test specification" class="md-nav__link">
    reusing test specification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retrying-failed-tests" title="Retrying failed tests" class="md-nav__link">
    Retrying failed tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#looping" title="Looping" class="md-nav__link">
    Looping
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-features" title="Additional features" class="md-nav__link">
    Additional features
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reports-test-duration" title="reports test duration" class="md-nav__link">
    reports test duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-only-tests-match-with-a-given-patterntext" title="running only tests match with a given pattern/text" class="md-nav__link">
    running only tests match with a given pattern/text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-request-options" title="additional request options" class="md-nav__link">
    additional request options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finding-suites-recursively" title="Finding suites recursively" class="md-nav__link">
    Finding suites recursively
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proper-error-reporting" title="Proper error reporting" class="md-nav__link">
    Proper error reporting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exit-code-for-ci-support" title="Exit code for CI support" class="md-nav__link">
    Exit code for CI support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-http-requestresponse-data-for-failed-tests" title="Logging HTTP request/response data for failed tests" class="md-nav__link">
    Logging HTTP request/response data for failed tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-callbacks" title="No callbacks" class="md-nav__link">
    No callbacks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-suites-in-parallel" title="Running suites in parallel" class="md-nav__link">
    Running suites in parallel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reporters" title="Reporters" class="md-nav__link">
    Reporters
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/kiranz/just-api/edit/master/docs/features.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="just-api-features">Just-API Features</h1>
<h2 id="request-specification">Request Specification</h2>
<p>A typical request specification includes request path, headers, query params, path params, and payload (if applicable).</p>
<h3 id="request-methods">Request Methods</h3>
<p>Just-API supports following HTTP request methods. You can have a request specification which
includes any of these methods.</p>
<ul>
<li>GET</li>
<li>POST</li>
<li>PUT</li>
<li>PATCH</li>
<li>DELETE</li>
<li>HEAD</li>
<li>OPTIONS</li>
</ul>
<p>Note that when a request is POST, PUT or PATCH, payload details can be provided and it will
be sent as request body. More on this in later sections.</p>
<h3 id="specifying-headers-query-params-path-params">Specifying Headers, Query params, Path params</h3>
<p>Request headers can be specified to <code>headers</code> key as list of name, value pair.
Request Query params can be specified to <code>query_params</code> key as list of name, value pair.
Request Path params can be specified to <code>path_params</code> key as list of name, value pair.</p>
<p>A sample test specification with method, headers, query params and path params:</p>
<pre><code class="yaml">  - name: A sample test
    request:
       path: /user/{userId}/posts/{postId}
       method: get
       headers:
         - name: Accept
           value: application/json
       path_params:
          - name: userId
            value: 12876
          - name: postId
            value: 92
       query_params:
          - name: limit
            value: 10
    response:
       status_code: 200
</code></pre>

<h3 id="request-body-specification">Request Body Specification</h3>
<p>When you need to send body for POST, PUT and PATCH requests, you can specify the body to <code>payload</code> key.</p>
<p>You will need to specify <code>content-type</code> header and body <code>type</code> as shown below
Here's how to send JSON body with a POST request</p>
<pre><code class="yaml">  - name: create a new user
    request: 
      path: /users
      method: post
      headers:
        - name: content-type
          value: application/json
      payload:
          body:
            type: json
            content:
              firstName: john
              lastName: doe
    response:
      status_code: 201
</code></pre>

<p>You can also send binary data as body by reading from a file as shown below.</p>
<pre><code class="yaml">  - name: post binary data (file) as body
    request:
      path: /uploadImage
      method: post
      headers:
        - name: content-type
          value: image/png
      payload:
          body:
            type: binary
            content: static/assets/image.png
    response:
      status_code: 200
</code></pre>

<p>Note that the image path should be relative to process's current working directory.</p>
<p>Please checkout more examples on how to specify request body <a href="https://github.com/kiranz/just-api/blob/master/test/cli/src/suites/postrawbody.suite.yml">here</a></p>
<h3 id="form-multipart-requests-file-uploads">Form, multipart requests, file uploads</h3>
<p>Just-API supports <code>x-www-form-urlencoded</code> and <code>multipart/form-data</code> requests using which you can upload files and perform tests on complex requests.</p>
<h4 id="specify-x-www-form-urlencoded-request"><strong>specify <code>x-www-form-urlencoded</code> request</strong></h4>
<p>To create a <code>x-www-form-urlencoded</code> request test, you will need to specify the <code>content-type</code> header and form body like below:</p>
<p>Note that <code>payload</code> should have a key <code>form</code> and it should contain form data in key value pairs.</p>
<pre><code class="yaml">  - name: Authenticate a user
    request:
      path: /authenticate
      method: post
      headers:
        - name: content-type
          value: application/x-www-form-urlencoded
      payload:
          form:
            userName: john.doe
            password: john.doe.password
    response:
      status_code: 200
</code></pre>

<p>More examples on <code>x-www-form-urlencoded</code> tests can be found <a href="https://github.com/kiranz/just-api/blob/master/test/cli/src/suites/urlencodeformpost.suite.yml">here</a></p>
<h4 id="specify-multipartform-data-request"><strong>specify <code>multipart/form-data</code> request</strong></h4>
<p>Here's how you can specify a multipart request.</p>
<p>Note that <code>payload</code> should have a key <code>form_data</code> and it should contain list of form data fields.</p>
<pre><code class="yaml">  - name: post multipart form data - single file and field
    request:
      path: /imageNText
      method: post
      headers:
        - name: content-type
          value: multipart/form-data
      payload:
          form_data:
            - name: image_name
              content: static/assets/logo.png
              type: file
            - name: field1
              content: value1
              type: text
    response:
      status_code: 200
</code></pre>

<p>More examples on <code>multipart/form-data</code> tests can be found <a href="https://github.com/kiranz/just-api/blob/master/test/cli/src/suites/multipartformpost.suite.yml">here</a></p>
<h2 id="response-validation">Response Validation</h2>
<p>Just-API allows you to validate responses without writing any code, you can validate following in a response by specifying what to validate.</p>
<ul>
<li>Status code</li>
<li>Headers</li>
<li>JSON schema</li>
<li>JSON body</li>
</ul>
<p>You can also have a custom validator function that will validate the response.</p>
<h3 id="status-code-validation">Status code validation</h3>
<p>You can provide <code>status_code</code> attribute in response and Just-API matches actual response's Status code against the specification.
Test will fail when actual response's Status code does not match with specified value.</p>
<p>A sample:</p>
<pre><code class="yaml">  - name: get users
    request:
      path: /users
      method: get
    response:
      status_code: 400
</code></pre>

<h3 id="headers-validation">Headers validation</h3>
<p>When you specify headers in response, Just-API will validate response headers against your specification.</p>
<p>A sample on how to specify headers validation.</p>
<pre><code class="yaml">  - name: get users
    request:
      path: /users
      method: get
    response:
      headers:
        - name: content-type
          value: application/json
</code></pre>

<p>You can even match header against a regex instead of exact value, like below:</p>
<p>Following response specification would check if response header <em>content-type</em> matches with regex pattern <em>'json'</em>.</p>
<pre><code class="yaml">  - name: get users
    request:
      path: /users
      method: get
    response:
      headers:
        - name: content-type
          value: !!js/regexp json
</code></pre>

<p>More examples on response header validation can be found <a href="https://github.com/kiranz/just-api/blob/master/test/cli/src/suites/headers.suite.yaml">here</a></p>
<h3 id="response-json-schema-validation">Response JSON schema validation</h3>
<p>Some times you may want to validate the schema of JSON received in response's body, which will allow you to ensure that server is sending data exactly what you are expecting.</p>
<p>with Just-API, you can validate the response JSON schema by specifying the <code>json_schema</code> attribute in response.</p>
<p>Following sample shows how to read expected schema from a file and validate response JSON body against it. Here json_schema has two fields, <code>type</code> key can be either file or inline.
When <code>type</code> is file, you need to provide the relative path to schema file to <code>$ref</code> key.</p>
<pre><code class="yaml">  - name: get users
    request: 
      path: /users
      method: get
    response:
      json_schema:
          type: file
          $ref: static/schema/expected_schema_for_users.json
</code></pre>

<p>You can also specify expected JSON schema in yaml by setting type as <code>inline</code> and assigning a string to <code>$ref</code> like below:</p>
<pre><code class="yaml">  - name: get users
    request: 
      path: /users
      method: get
    response:
      json_schema:
          type: inline
          $ref: &gt;
                {
                  &quot;$id&quot;: &quot;http://example.com/example.json&quot;,
                  &quot;type&quot;: &quot;object&quot;,
                  &quot;$schema&quot;: &quot;http://json-schema.org/draft-06/schema#&quot;,
                  &quot;properties&quot;: {
                    &quot;firstName&quot;: {
                      &quot;$id&quot;: &quot;/properties/firstName&quot;,
                      &quot;type&quot;: &quot;string&quot;
                    }
                  }
                }
</code></pre>

<p>If you are not sure about JSON schema standard, Please refer to <a href="http://json-schema.org/">JSON schema</a></p>
<p>More examples on response JSON schema validation can be found <a href="https://github.com/kiranz/just-api/blob/master/test/cli/src/suites/jsonschema.suite.yml">here</a></p>
<h3 id="response-json-body-validation">Response JSON body validation</h3>
<p>When you want to validate one or many fields of response JSON, you can do so by providing <code>json_data</code> as part of response specification.</p>
<p><code>json_data</code> should have a list of pair of path &amp; value, where path tells Just-API how to locate the field, and value is the expected value for that field.</p>
<p>Following sample shows that.</p>
<pre><code class="yaml">  - name: get users
    request: 
      path: /users
      method: get
    response:
      json_data:
        - path: $.[0].firstName
          value: john
</code></pre>

<p>If you are not sure on how to generate JSON path, Please refer to <a href="https://github.com/dchester/jsonpath">JSON path</a></p>
<p>More examples on response JSON data validation can be found <a href="https://github.com/kiranz/just-api/blob/master/test/cli/src/suites/jsondata.suite.yml">here</a></p>
<h3 id="user-defined-custom-response-validator-functions">User defined custom response validator functions</h3>
<p>When you need to validate a response using your custom logic, you can do so by providing a <code>inline</code> or <code>module</code> custom javascript function to <code>custom_validator</code> attribute.</p>
<p>Just-API will invoke the custom function by passing the response to function's this context, so you can access the response using <code>this.response</code>.</p>
<p>So when you need more details from response, <code>this.response</code> will also have following properties.</p>
<ul>
<li>body</li>
<li>statusCode</li>
<li>statusMessage</li>
<li>headers</li>
<li>body</li>
<li>duration</li>
</ul>
<p>Here's a sample on how to specify a custom inline Javascript function to validate the response</p>
<pre><code class="yaml">  - name: get users
    request:
      path: /users
      method: get
    response:
      status_code: 200
      custom_validator:
        run_type: inline
        inline:
          function: !!js/function &gt;
            function() {
              var body = JSON.parse(this.response.body);

              if (body.users[0].firstName !== 'john')
                  throw new Error(&quot;first user's name is not john&quot;);
            }
</code></pre>

<p>You can also specify a custom function defined and exported in a module by providing <code>run_type</code> as module and module path like below.</p>
<pre><code class="yaml">  - name: get users
    request:
      path: /users
      method: get
    response:
      status_code: 200
      custom_validator:
        run_type: module
        module:
          module_path: modules/custom_module.js
          function_name: validateUsersResponse
</code></pre>

<p>More examples on validating response using custom functions can be found <a href="https://github.com/kiranz/just-api/blob/master/test/cli/src/suites/customvalidator.suite.yml">here</a></p>
<h2 id="custom-javascript-functions">Custom Javascript functions</h2>
<p>Just-API allows users to specify custom Javascript functions for (hooks and custom validator).</p>
<p>These custom Javascript function can be inline or defined in a module. They can synchronous or asynchronous defined with (async keyword). </p>
<h3 id="cutom-inline-and-module-functions">cutom inline and module functions</h3>
<h4 id="custom-inline-function">custom inline function</h4>
<p>An <code>inline</code> synchronous function is defined as below.</p>
<pre><code class="yaml">  custom_validator:
    run_type: inline
    inline:
      function: !!js/function &gt;
        function() {
          // some custom code here...
        }
</code></pre>

<p>Note that run_type is <code>inline</code> and function is mapped to function key of <code>inline</code> attribute. <code>!!js/function</code> is how you tell Just-API parse to consider it as custom synchronous functions.</p>
<h4 id="custom-module-function">custom module function</h4>
<p>A <code>module</code> synchronous function is specified as below.</p>
<pre><code class="yaml"> custom_validator:
   run_type: module
   module:
     module_path: modules/custom_module.js
     function_name: customFunctionName
</code></pre>

<p>Note that run_type is <code>module</code> and function details are mapped to <code>module</code> attribute. <code>module_path</code> has the relative path to the JS file.
The JS file is expected to be a standard Node.js module.
<code>function_name</code> is the function exported in the module.</p>
<h3 id="async-support-for-custom-functions-with-promises">Async support for custom functions with promises</h3>
<p>Custom functions can be asynchronous defined with async keyword, Just-API waits until promise returned by function is resolved or rejected.</p>
<p>An <code>inline</code> asynchronous function is defined as below.</p>
<pre><code class="yaml">  custom_validator:
    run_type: inline
    inline:
      function: !js/asyncFunction &gt;
        async function() {
          // some custom asynchrounous code here...
        }
</code></pre>

<p>Note that run_type is <code>inline</code> and function is mapped to function key of <code>inline</code> attribute. <code>!js/asyncFunction</code> is how you tell Just-API parse to consider it as custom asynchronous functions.</p>
<p>A <code>module</code> asynchronous function is specified as below.</p>
<pre><code class="yaml"> custom_validator:
   run_type: module
   module:
     module_path: modules/custom_module.js
     function_name: customAsyncFunctionName
</code></pre>

<p>Note that run_type is <code>module</code> and function details are mapped to <code>module</code> attribute. <code>module_path</code> has the relative path to the JS file.The JS file is expected to be a standard Node.js module.
<code>function_name</code> is the async function defined async keyword in the module.</p>
<h2 id="suite-configuration">Suite configuration</h2>
<p>When you are running tests, you would want to configure API host, port etc according to the environment you are testing against.</p>
<p>In order to facilitate this, Just-API provides a <code>configuration</code> section in each suite, where you can have a <code>custom_configuration</code> attribute 
and provide a custom JS function to set suite configuration.</p>
<p>Here's an example to do that with an inline custom JS function.</p>
<pre><code class="yaml">configuration:
  scheme: https
  custom_configuration:
    run_type: inline
    inline:
      function: !!js/function &gt;
        function() {
          if (process.env.TEST_ENVIRONMENT === 'Dev') {
             this.host = 'dev-host.com';
          }

          if (process.env.TEST_ENVIRONMENT === 'QA') { 
            this.host = 'qa-host.com';
          }
        }
</code></pre>

<p>you can also have a module based custom JS function to configure the suite.</p>
<p>Note that <code>custom_configuration</code> is optional. you can always specify static suite configuration if test environment details does not change for you.</p>
<pre><code class="yaml">configuration:
  scheme: https
  host: testhost.com
  port: 8000
  base_path: /api
</code></pre>

<p>More examples <a href="https://github.com/kiranz/just-api/tree/master/test/cli/src/suites/suiteconfig">here</a></p>
<h2 id="hooks">Hooks</h2>
<p>If you are familiar with mocha, you might have used hooks. Just-API supports following hooks so it's easy setup your tests.</p>
<p><strong>Suite specific hooks</strong></p>
<p>These can be specified as part of <code>hooks</code> attribute.</p>
<ul>
<li>Before all  (runs before all specs in a suite)</li>
<li>After all   (runs after all specs in a suite)</li>
<li>Before each  (runs before each spec in a suite )</li>
<li>After each  (runs after each passed spec in a suite )</li>
</ul>
<p><strong>Test specific hooks</strong></p>
<p>These can be specified for each as required.</p>
<ul>
<li>Before test  (runs before a spec, you can use this hook to setup test prerequisites )</li>
<li>After test  (runs after a passed spec, you can use this hook to teardown/clear any test specific data  )</li>
</ul>
<p>Checkout some samples of hooks <a href="https://github.com/kiranz/just-api/tree/master/test/cli/src/suites/hooks">here</a></p>
<h2 id="dynamic-request-construction">Dynamic request construction</h2>
<p>Static specification of request is not possible for all sort of test. Sometimes a test depends on data returned by another request, where you would want 
to run the dependency spec first and fetch required data from it and pass it on to request. To handle usecases like this, Just-API provides a
<code>before_test</code> hook for every test. Using this hook you can run test prerequisites and update request data for actual test.</p>
<p>Typically we need to build dynamic requests when a request depends on the data received from another request. In such cases, you 
can run the dependency spec in before_test hook and use the response to build the actual request for test.</p>
<h3 id="headers">Headers</h3>
<p>Updating or overriding request headers in before test:</p>
<pre><code class="yaml">  - name: send headers specified in before test hook
    before_test:
      run_type: inline
      inline:
        function: !!js/function &gt;
          function() {
            this.test.headers = { Authorization: 'some token' };
          }
    request:
      path: /users
      method: get
    response:
      status_code: 200
</code></pre>

<h3 id="query-params">Query params</h3>
<p>Updating or overriding request query params in before test:</p>
<pre><code class="yaml">  - name: Query params added in hook
    before_test:
      run_type: inline
      inline:
        function: !!js/function &gt;
          function() {
            this.test.query_params = { limit: 10 };
          }
    request:
       path: /users
       method: get
    response:
       status_code: 200
</code></pre>

<h3 id="path-params">Path params</h3>
<p>Updating or overriding request Path params in before test:</p>
<pre><code class="yaml">  - name: path params added in hook
    before_test:
      run_type: inline
      inline:
        function: !!js/function &gt;
          function() {
            this.test.path_params = { id: 1 };
          }
    request:
       path: /user/{id}
       method: get
    response:
       status_code: 200
</code></pre>

<h3 id="body">Body</h3>
<p>You can also define request payload at runtime using hooks</p>
<pre><code class="yaml">  - name: Payload defined in hook
    before_test:
      run_type: inline
      inline:
        function: !!js/function &gt;
          function() {
            this.test.payload = { body: {type: 'json', content: { firstName: 'john',
             lastName: 'doe'}} };
          }
    request:
       path: /users
       method: post
       headers:
         - name: content-type
           value: application/json
    response:
       status_code: 201
</code></pre>

<h2 id="custom-context">Custom context</h2>
<p>You will have access to suite context and test context in hooks, So you can use them as a way to store custom data to use in later hooks.</p>
<p>Suite context can be accessed in hooks using <code>this.suite</code>.
Test context can be accessed in test specific hooks using 'this.test'.</p>
<h3 id="storing-suite-test-data-in-context-for-reuse">Storing suite &amp; test data in context for reuse</h3>
<p>When you have some data that you want to use later in some tests, you can store the data into suite context in <code>before_all</code> hook.</p>
<pre><code class="yaml">  before_all:
    run_type: inline
    inline:
      function: !!js/function &gt;
        function() {
           this.suite.serviceSecret = 'secret';
        }
</code></pre>

<p>and later when you need the secret in a test, you can access it in before_test hook.</p>
<pre><code class="yaml">  - name: using suite context in before test hook
    before_test:
      run_type: inline
      inline:
        function: !!js/function &gt;
          function() {
              this.test.headers = { Authorization: this.suite.serviceSecret };
          }
    request:
      path: /users
      method: get
    response: 
      status_code: 200
</code></pre>

<p>Similarly you can set test context in before_test hook using <code>this.test</code> and access it using `this.test' in after_test hook.</p>
<h2 id="spec-dependencies">Spec dependencies</h2>
<p>This is probably one of best features of Just-API.</p>
<p>Just-API allows testing APIs in flow, where one request depends on response data from another request. This is really useful when you are
testing complex transaction APIs etc.</p>
<h3 id="running-dependencies">Running dependencies</h3>
<p>Running pre-requisite requests can be done using hooks. There is <code>before_each</code> and <code>before_test</code> hooks.</p>
<p>If you have a dependency specific to a test, then you might want to use <code>before_test</code> hook to run the dependecy spec.</p>
<p>There is support for 2 types of dependencies, <code>Intrasuite</code> &amp; <code>Intersuite</code> spec.</p>
<p>You will need to first provide dependency specification so that you can run it from other specs.</p>
<h3 id="intrasuite-spec-dependencies">Intrasuite spec dependencies</h3>
<p>Intrasuite dependency is when you have a dependency that is specified in the same suite. You can then run the dependency by
using <code>this.runSpec()</code> in a hook. runSpec function takes 2 arguments. First argument is the name of your dependency spec and second argument
is an object with additional information you want to pass to the request such as headers, query params, path params, and body.</p>
<p>Following set of specs show how to run dependencies as part of a test and use the data for subsequent requests.</p>
<pre><code class="yaml">specs:
  - name: thisis the dependency
    enabled: false
    request:
      path: /token
      method: get
    response:
      status_code: 200

  - name: actual test spec
    before_test:
      run_type: inline
      inline:
        function: !js/asyncFunction &gt;
          async function() {
            var response = await this.runSpec('thisis the dependency');
            var tokenResponse = JSON.parse(response.body);
            this.test.headers = {Authorization:  tokenResponse.token};
          }
    request:
      path: /users
      method: get
    response:
      status_code: 200
</code></pre>

<h3 id="intersuite-spec-dependencies">Intersuite spec dependencies</h3>
<p>Intersuite is when you have a dependency that is specified in the another suite but you import it using <code>spec_dependencies</code> construct.</p>
<p>Running Intersuite dependency is similar to running Intrasuite dependency.</p>
<p>You can import specs defined in another by specifying relative path to the suite.</p>
<pre><code class="yaml">spec_dependencies:
  - suites/anothersuite.yml
</code></pre>

<p>And you can import specs from multiple suites by listing their relative paths.</p>
<p>Note that these imported specs will only be available when you run them using <code>this.runSpec</code>.</p>
<p>Please find some examples on dependencies <a href="https://github.com/kiranz/just-api/blob/master/test/cli/src/suites/suitedependencies/intersuitedeps.suite.yml">here</a></p>
<h2 id="skipping">Skipping</h2>
<p>You can explicitly skip suites and tests with specification.</p>
<h3 id="skipping-a-suite">Skipping a suite</h3>
<p>When you have written a suite in a directory, but want to skip running it for some reason, you can do so by providing
  <code>false</code> as value for enabled key under <code>meta</code> in a suite, Just-API will skip the suite.</p>
<pre><code class="yaml"> meta:
  name: Disabled sute
  enabled: false
configuration:
  scheme: http
  host: 127.0.0.1
specs:
  - name: get users
    request:
      path: /users
      method: get
    response:
      status_code: 200
</code></pre>

<p>Note that if any error occurs before Just-API reads <code>meta</code> info of the suite, then suite will be marked as failure.</p>
<h3 id="skipping-a-test">Skipping a test</h3>
<p>When you written a set of specs in a suite, but want to skip a spec, you can do so by providing <code>false</code> as value for enabled key of the spec.</p>
<pre><code class="yaml">  - name: disabled spec
    enabled: false
    request:
      path: /
      method: get
    response:
      status_code: 200
</code></pre>

<p>Just-API will mark the spec as a skipped test.</p>
<h2 id="reusing-test-specification">reusing test specification</h2>
<p>Apart from readability, an awesome thing about yaml is that you can reuse parts of your specification.</p>
<p>Refer to <a href="https://blog.daemonl.com/2016/02/yaml.html">dry</a> to see how you can reuse stuff in yaml.</p>
<p>you can see how response specification is being reused below</p>
<pre><code class="yaml">meta:
  name: suite name
configuration:
  scheme: http
  host: example.com
specs:
  - name: get user1
    request:
      path: /users/1
      method: get
    response: &amp;default_response
      status_code: 200

  - name: get user2
    request: &amp;default_request
      path: /users/1
      method: get
    response: *default_response
</code></pre>

<h2 id="retrying-failed-tests">Retrying failed tests</h2>
<p>Sometimes a resource takes a bit of time to get to a state you expect, for instance when you are polling a job status and it goes 
to completed state after a while. In such cases, you would want to retry hitting the same request few times. </p>
<p>If you see below sample, response validation says expect 200 status code. If the response validation fails then Just-API attempt to retry the request
if you have specified <code>retry</code> attribute.
Here the request is attempted 3 times denoted by <code>count</code> with 10ms wait before each attempt.</p>
<p><code>wait_before_each</code> is an optional attribute to specify how many milliseconds you want to wait before each attempt.</p>
<pre><code class="yaml">  - name: retry example
    request:
      path: /retryPath
      method: get
    retry:
      count: 3
      wait_before_each: 10
    response:
      status_code: 200
</code></pre>

<h2 id="looping">Looping</h2>
<p>You can use the loop construct to loop through a list of items, each item generating a test.</p>
<p>The list of items can be specified in spec beforehand or you can specify a custom JS function which returns a list of items.</p>
<p>Here's how a static loop is specified, <code>type</code> is static and loop list is mapped to <code>static</code> field as list of items.
You will have access to that item in before_test hook by accessing <code>this.loopItem</code>.</p>
<pre><code class="yaml">  - name: static loop test
    loop:
      type: static
      static:
        - 2
        - 3
    before_test:
      run_type: inline
      inline:
        function: !!js/function &gt;
          function() {
            this.test.query_params = { limit : this.loopItem };
          }
    request:
      path: /users
      method: get
    response:
      status_code: 200
</code></pre>

<p>There's another way to provide a list of items, with <code>dynamic</code> type and a custom JS function.</p>
<pre><code class="yaml">  - name: dynamic loop test
    loop:
      type: dynamic
      dynamic:
        run_type: inline
        inline:
          function: !!js/function  &gt;
            function() {
              return [2, 3];
            }           
    before_test:
      run_type: inline
      inline:
        function: !!js/function &gt;
          function() {
            this.test.query_params = { limit : this.loopItem };
          }           
    request:
      path: /users
      method: get
    response:
      status_code: 200
</code></pre>

<p>Note that if your loop has a list of n items, n tests will be generated at runtime.</p>
<h2 id="additional-features">Additional features</h2>
<p>Following are some additional features offered by Just-API.</p>
<h3 id="reports-test-duration">reports test duration</h3>
<p>Just-API includes duration of each test run in all formats of reports.</p>
<h3 id="running-only-tests-match-with-a-given-patterntext">running only tests match with a given pattern/text</h3>
<p>If you want to run only specs matches with a given text or pattern, you can do so by using <code>--grep</code> option.</p>
<p>Following invocation will run all specs whose name matches with 'user' string.</p>
<pre><code class="sh">./node_modules/.bin/just-api --grep user specs
</code></pre>

<h3 id="additional-request-options">additional request options</h3>
<p>Following additional request options are supported.</p>
<ul>
<li>followRedirect - follow HTTP 3xx responses as redirects.</li>
<li>followAllRedirects - follow non-GET HTTP 3xx responses as redirects.</li>
<li>followOriginalHttpMethod - by default we redirect to HTTP method GET. you can enable this property to redirect to the original HTTP method (default: false)</li>
<li>encoding - encoding to be used on setEncoding of response data. If null, the body is returned as a Buffer. 
   Anything else (including the default value of undefined) will be passed as the encoding parameter to toString() (meaning this is effectively utf8 by default). (Note: if you expect binary data, you should set encoding: null.)</li>
<li>gzip - if true, add an Accept-Encoding header to request compressed content encodings from the server (if not already present) and decode supported content encodings in the response.</li>
</ul>
<p>A sample spec on how to specify these options:</p>
<pre><code class="yaml">  - name: spec with redirection disabled
    request: 
      path: /home
      method: get
      additional_options:
        followRedirect: false
    response:
      status_code: 200
</code></pre>

<h3 id="finding-suites-recursively">Finding suites recursively</h3>
<p>When you want to run suites stored in a directory hierarchy spanning more than one nested level, you can invoke the Just-API with <code>--recursive</code> option.</p>
<pre><code class="sh">./node_modules/.bin/just-api --recursive specs
</code></pre>

<h3 id="proper-error-reporting">Proper error reporting</h3>
<p>When a test or suite fails, Just-API provides the correct error, that caused the failure in reports.</p>
<h3 id="exit-code-for-ci-support">Exit code for CI support</h3>
<p>Just-API exits with proper exit code, so you can use it in CI to determine the status of your tests.</p>
<p>Usually exit code is equal to number of failed suite unless some unexpected error occurs.</p>
<h3 id="logging-http-requestresponse-data-for-failed-tests">Logging HTTP request/response data for failed tests</h3>
<p>When a test with multiple dependencies fails it's hard to track which request has failed. To make failure tracking easy, Just-API allows you to 
ask for HTTP call details for failed tests. You would be able to see all HTTP calls made for a failed test n HTML or JSON report.</p>
<p>To enable this feature you need to invoke Just-API with <code>--reporter-options logRequests</code></p>
<pre><code class="sh">./node_modules/.bin/just-api --reporter html --reporter-options logRequests specs
</code></pre>

<h3 id="no-callbacks">No callbacks</h3>
<p>You might have observed that there is mention of callbacks anywhere. yes, Just-API does not support callback mechanism when running custom JS functions.
This is to encourage usage of promises for asynchronous operations.</p>
<p>When you are dealing with asynchronous tasks, wrap them in an async function.</p>
<h2 id="running-suites-in-parallel">Running suites in parallel</h2>
<p>Please see <a href="../running-suites-in-parallel">page</a> </p>
<h2 id="reporters">Reporters</h2>
<p>Please see <a href="../reporters">page</a> </p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../CLI/" title="CLI Reference" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                CLI Reference
              </span>
            </div>
          </a>
        
        
          <a href="../running-suites-in-parallel/" title="Running suites in parallel" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Running suites in parallel
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/kiranz/just-api" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/just_api_" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
        <script src="../js/extra.js"></script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-120233669-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>